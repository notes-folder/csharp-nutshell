#!meta

{"kernelInfo":{"defaultKernelName":"csharp","items":[{"aliases":[],"name":"csharp"}]}}

#!csharp

/*
    4.3 Lambdaè¡¨è¾¾å¼
    Lambdaè¡¨è¾¾å¼æ˜¯ä¸€ç§å¯ä»¥æ›¿ä»£å§”æ‰˜å®ä¾‹çš„åŒ¿åæ–¹æ³•ã€‚
    ç¼–è¯‘å™¨ä¼šç«‹å³å°†Lambdaè¡¨è¾¾å¼è½¬æ¢ä¸ºä»¥ä¸‹ä¸¤ç§å½¢å¼ä¹‹ä¸€ï¼š
        Â· ä¸€ä¸ªå§”æ‰˜å®ä¾‹ã€‚
        Â· ä¸€ä¸ªç±»å‹ä¸ºExpression<TDelegate> çš„è¡¨è¾¾å¼æ ‘ã€‚
            è¯¥è¡¨è¾¾å¼æ ‘å°†Lambdaè¡¨è¾¾å¼å†…éƒ¨çš„ä»£ç è¡¨ç°ä¸ºä¸€ä¸ªå¯éå†çš„å¯¹è±¡æ¨¡å‹ï¼Œå› æ­¤Lambdaè¡¨è¾¾å¼çš„è§£é‡Šå¯ä»¥å»¶è¿Ÿåˆ°è¿è¡Œæ—¶ï¼ˆè¯·å‚è§8.10èŠ‚ï¼‰ã€‚
*/

//ä¸‹é¢çš„å§”æ‰˜ç±»å‹ï¼š
delegate int Transformer (int i);

//å¯ä½¿ç”¨Lambdaè¡¨è¾¾å¼x => x * xèµ‹å€¼ï¼Œä¹Ÿå¯ä»¥è°ƒç”¨è¯¥è¡¨è¾¾å¼ï¼š
Transformer sqr = x => x * x;
Console.WriteLine (sqr(3));     // 9

#!csharp

/*
    ğŸ¦ç¼–è¯‘å™¨åœ¨å†…éƒ¨å°†è¿™ç§Lambdaè¡¨è¾¾å¼ç¼–è¯‘ä¸ºä¸€ä¸ªç§æœ‰çš„æ–¹æ³•ï¼Œå¹¶å°†è¡¨è¾¾å¼ä»£ç è½¬ç§»åˆ°è¯¥æ–¹æ³•ä¸­ã€‚
    Lambdaè¡¨è¾¾å¼æ‹¥æœ‰ä»¥ä¸‹çš„å½¢å¼ï¼š
    (parameters) => expression-or-statement-block
*/

//ä¸ºäº†æ–¹ä¾¿ï¼Œåœ¨åªæœ‰ä¸€ä¸ªå¯æ¨æµ‹ç±»å‹çš„å‚æ•°æ—¶ï¼Œå‚æ•°å¯ä»¥çœç•¥å°æ‹¬å·ã€‚
//æœ¬ä¾‹ä¸­ï¼Œåªæœ‰ä¸€ä¸ªå‚æ•°xï¼Œè¡¨è¾¾å¼æ˜¯x * xï¼š
//x => x * x;

/*
    Lambdaè¡¨è¾¾å¼çš„æ¯ä¸€ä¸ªå‚æ•°å¯¹åº”å§”æ‰˜çš„ä¸€ä¸ªå‚æ•°ï¼Œè€Œè¡¨è¾¾å¼çš„ç±»å‹ï¼ˆå¯ä»¥æ˜¯voidï¼‰å¯¹åº”ç€å§”æ‰˜çš„è¿”å›ç±»å‹ã€‚
*/

//æœ¬ä¾‹ä¸­ï¼Œxå¯¹åº”å‚æ•°iï¼Œè€Œè¡¨è¾¾å¼x * xçš„ç±»å‹å¯¹åº”ç€è¿”å›å€¼ç±»å‹intï¼Œå› æ­¤å®ƒå’ŒTransformerå§”æ‰˜æ˜¯å…¼å®¹çš„ï¼š
delegate int Transformer (int i);

//Lambdaè¡¨è¾¾å¼çš„ä»£ç é™¤äº†è¡¨è¾¾å¼ä¹‹å¤–è¿˜å¯ä»¥æ˜¯è¯­å¥å—ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥æŠŠä¸Šä¾‹æ”¹å†™æˆï¼š
//x => { return x * x; };

//Lambdaè¡¨è¾¾å¼é€šå¸¸å’ŒFuncå’ŒActionå§”æ‰˜ä¸€èµ·ä½¿ç”¨ï¼Œå› æ­¤å‰é¢çš„è¡¨è¾¾å¼é€šå¸¸å†™æˆå¦‚ä¸‹å½¢å¼ï¼š
Func<int, int>  sqr = x =>  x * x;

#!csharp

//ä»¥ä¸‹æ˜¯å¸¦æœ‰ä¸¤ä¸ªå‚æ•°çš„è¡¨è¾¾å¼ç¤ºä¾‹ï¼š
Func<string, string, int>  totalLength = (s1, s2) =>  s1.Length + s2.Length;
int total = totalLength ("hello", "world");    // total is 10;
Console.WriteLine (total);

//Lambdaè¡¨è¾¾å¼æ˜¯ä»C# 3.0å¼•å…¥çš„ã€‚
