#!meta

{"kernelInfo":{"defaultKernelName":"csharp","items":[{"aliases":[],"name":"csharp"}]}}

#!csharp

/*
    4.10 å…ƒç»„ï¼ˆC# 7ï¼‰
    å’ŒåŒ¿åç±»å‹ä¸€æ ·ï¼Œå…ƒç»„ï¼ˆtupleï¼‰ä¹Ÿæ˜¯å­˜å‚¨ä¸€ç»„å€¼çš„ä¾¿æ·æ–¹å¼ã€‚
    å…ƒç»„çš„ä¸»è¦ç›®çš„æ˜¯ä¸ä½¿ç”¨outå‚æ•°è€Œä»æ–¹æ³•ä¸­è¿”å›å¤šä¸ªå€¼ï¼ˆè¿™æ˜¯åŒ¿åç±»å‹åšä¸åˆ°çš„ï¼‰ã€‚
*/

/*
    ğŸ¦ C# 7çš„å…ƒç»„å‡ ä¹å¯ä»¥åšåˆ°åŒ¿åç±»å‹åšåˆ°çš„ä»»ä½•äº‹æƒ…ï¼Œç”šè‡³æ›´å¤šã€‚
    è€Œå®ƒçš„ç¼ºç‚¹ä¹‹ä¸€æ˜¯å‘½åå…ƒç´ çš„è¿è¡Œæ—¶ç±»å‹æ“¦é™¤ï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥ä¼šè¿›è¡Œä»‹ç»ã€‚
    åˆ›å»ºå…ƒç»„å­—é¢é‡çš„æœ€ç®€å•æ–¹å¼æ˜¯åœ¨æ‹¬å·ä¸­åˆ—å‡ºæœŸæœ›çš„å€¼ã€‚
    è¿™æ ·å°±å¯ä»¥åˆ›å»ºä¸€ä¸ªåŒ…å«åŒ¿åå…ƒç´ çš„å…ƒç»„ï¼Œå¹¶ä½¿ç”¨Item1ã€Item2ç­‰ç­‰è®¿é—®å…¶ä¸­çš„å…ƒç´ ã€‚
*/

var bob = ("Bob", 23);    // Allow compiler to infer the element types

Console.WriteLine(bob.Item1);    // Bob
Console.WriteLine(bob.Item2);    // 23

#!csharp

/*
    ğŸ¦ C# 7çš„å…ƒç»„åŠŸèƒ½éœ€è¦System.ValueTuple<...> æ³›å‹ç»“æ„ä½“çš„æ”¯æŒã€‚
    å®ƒä»¬å¹¶é.NET Framework 4.6çš„ä¸€éƒ¨åˆ†ï¼Œè€Œæ˜¯å®šä¹‰åœ¨System. ValueTupleç¨‹åºé›†ä¸­ã€‚
    å¯ä»¥é€šè¿‡åŒåçš„NugetåŒ…è·å¾—è¯¥ç¨‹åºé›†ã€‚
    å¦‚æœä½ ä½¿ç”¨Visual Studioè¿›è¡Œ.NET 4.6çš„å¼€å‘ï¼Œé‚£ä¹ˆé¦–å…ˆéœ€è¦ä¸‹è½½è¿™ä¸ªåŒ…ï¼ˆå¦‚æœä½¿ç”¨LINQPadåˆ™ä¸éœ€è¦è¿™ä¸ªæ­¥éª¤ï¼Œå› ä¸ºè¯¥ç¨‹åºé›†å·²ç»è‡ªåŠ¨åŒ…å«åœ¨å…¶ä¸­äº†ï¼‰ã€‚
    åœ¨.NET Framework 4.7ä¸­ï¼ŒSystem.ValueTupleå·²ç»åŒ…å«åœ¨mscorlib.dllä¸­äº†ã€‚
*/

// å…ƒç»„æ˜¯å€¼ç±»å‹ï¼Œå¹¶ä¸”å®ƒæ˜¯å¯å˜ï¼ˆå¯è¯»å¯å†™ï¼‰çš„å…ƒç´ ï¼š
var joe = bob;                    // joe is a *copy* of bob
joe.Item1 = "Joe";                // Change joe's Item1 from Bob to Joe
Console.WriteLine(bob);          // (Bob, 23)
Console.WriteLine(joe);          // (Joe, 23)

#!csharp

// å’ŒåŒ¿åç±»å‹ä¸åŒï¼Œæˆ‘ä»¬å¯ä»¥å°†æ¯ä¸€ä¸ªå…ƒç´ çš„ç±»å‹åˆ—åœ¨æ‹¬å·ä¸­ï¼Œæ¥æ˜¾å¼æŒ‡å®šå…ƒç»„çš„ç±»å‹ã€‚
(string, int) bob = ("Bob", 23);   // var is not compulsory with tuples!

#!csharp

// è¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥æœ‰æ•ˆåœ°ä»æ–¹æ³•ä¸­è¿”å›å…ƒç»„ï¼š
(string, int) GetPerson() => ("Bob", 23);

(string, int) person = GetPerson();   // Could use 'var' here if we want
Console.WriteLine(person.Item1);     // Bob
Console.WriteLine(person.Item2);     // 23

#!csharp

// å…ƒç»„å’Œæ³›å‹é…åˆé»˜å¥‘ï¼Œå› æ­¤ä»¥ä¸‹çš„ç±»å‹éƒ½æ˜¯åˆæ³•çš„ï¼š
Task<(string, int)> task = Task.Run(() => ("test", 5));
Dictionary<(string, int), Uri> dict = new Dictionary<(string, int), Uri>();
IEnumerable<(int ID, string Name)> values;     // See below for naming elements
