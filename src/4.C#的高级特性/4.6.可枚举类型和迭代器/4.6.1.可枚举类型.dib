#!meta

{"kernelInfo":{"defaultKernelName":"csharp","items":[{"aliases":[],"name":"csharp"}]}}

#!csharp

/*
    4.6.1 å¯æšä¸¾ç±»å‹
    æšä¸¾å™¨ï¼ˆEnumeratorï¼‰æ˜¯ä¸€ä¸ªåªè¯»çš„ä¸”åªèƒ½åœ¨å€¼åºåˆ—ä¸Šå‰ç§»çš„æ¸¸æ ‡ã€‚
    æšä¸¾å™¨å®ç°ä¸‹é¢çš„æ¥å£ä¹‹ä¸€ï¼š
        Â· System.Collections.IEnumerator
        Â· System.Collections.Generic.IEnumerator<T>
    ğŸ¦ä»æŠ€æœ¯ä¸Šï¼Œä»»ä½•å…·æœ‰MoveNextæ–¹æ³•å’ŒCurrentå±æ€§çš„å¯¹è±¡éƒ½è¢«å½“ä½œæšä¸¾å™¨ã€‚
    è¿™ä¸ªå®½æ³›å®šä¹‰æ˜¯ä¸ºäº†åœ¨C# 1.0ä¸­ä¸ç»è¿‡è£…ç®±/æ‹†ç®±æ“ä½œå°±å¯ä»¥æ”¯æŒæ•°å€¼å‹çš„å¯æšä¸¾ç±»å‹ï¼Œè€Œå®ƒåœ¨C# 2å¼•å…¥æ³›å‹ä¹‹åå°±æ˜¯å¤šä½™çš„äº†ã€‚
*/

#!csharp

/*
    foreachè¯­å¥ç”¨æ¥åœ¨å¯æšä¸¾ï¼ˆenumerableï¼‰çš„å¯¹è±¡ä¸Šæ‰§è¡Œè¿­ä»£æ“ä½œã€‚
    å¯æšä¸¾çš„å¯¹è±¡æŒ‡é€»è¾‘ä¸Šçš„åºåˆ—ï¼Œå®ƒæœ¬èº«ä¸æ˜¯æ¸¸æ ‡ï¼Œä½†æ˜¯å®ƒå¯ä»¥åœ¨å¯¹è±¡è‡ªèº«ä¸Šç”Ÿæˆæ¸¸æ ‡ï¼Œå¯æšä¸¾çš„å¯¹è±¡å¯ä»¥æ˜¯ï¼š
        Â· IEnumerableæˆ–IEnumerable<T>çš„å®ç°
        Â· å…·æœ‰åä¸ºGetEnumeratorçš„æ–¹æ³•å¹¶ä¸”è¿”å›å€¼æ˜¯ä¸€ä¸ªæšä¸¾å™¨ï¼ˆenumeratorï¼‰å¯¹è±¡
    ğŸ¦IEnumeratorå’ŒIEnumerableå®šä¹‰åœ¨System.Collectionsé‡Œã€‚
    IEnumerator<T>å’ŒIEnumerable<T>å®šä¹‰åœ¨System.Collections. Genericå‘½åç©ºé—´ä¸­ã€‚
*/

#!csharp

/*
    å¯æšä¸¾ç±»å‹çš„æ¨¡æ¿å¦‚ä¸‹ï¼š
    class Enumerator   // Typically implements IEnumerator or IEnumerator<T>
    {
        public IteratorVariableType Current { get {...} }
        public bool MoveNext() {...}
    }

    class Enumerable   // Typically implements IEnumerable or IEnumerable<T>
    {
        public Enumerator GetEnumerator() {...}
    }
*/

#!csharp

//ä»¥ä¸‹æ˜¯ä½¿ç”¨é«˜å±‚æ¬¡çš„æ–¹å¼éå†å•è¯bearçš„æ¯ä¸€ä¸ªå­—æ¯çš„æ–¹æ³•ï¼š
foreach (char c in "beer")
{
    Console.WriteLine(c);
}

#!csharp

//è€Œä¸‹é¢æ˜¯ä½¿ç”¨ä½å±‚çš„è°ƒç”¨å³ä¸ç”¨foreachè¯­å¥éå†å•è¯bearçš„æ¯ä¸€ä¸ªå­—æ¯çš„æ–¹æ³•ï¼š
using (var enumerator = "beer".GetEnumerator())
    while (enumerator.MoveNext())
    {
        var element = enumerator.Current;
        Console.WriteLine(element);
    }

//å¦‚æœè¿­ä»£å™¨å®ç°äº†IDisposableï¼Œåˆ™foreachè¯­å¥ä¹Ÿä¼šèµ·åˆ°usingè¯­å¥çš„ä½œç”¨ï¼Œéšå¼é”€æ¯æšä¸¾å™¨å¯¹è±¡ã€‚
